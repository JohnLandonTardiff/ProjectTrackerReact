{"ast":null,"code":"import _slicedToArray from\"C:/Users/AMStudent/Desktop/ProjectTrackerRedux/project-tracker-redux/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{useParams,Link}from\"react-router-dom\";import{projectsList}from\"../ProjectsPage/ProjectClass\";import CreateGoalModal from\"./Modals/CreateGoalModal/CreateGoalModal\";import EditGoalModal from\"./Modals/EditGoalModal/EditGoalModal\";import DeleteGoalModal from\"./Modals/DeleteGoalModal/DeleteGoalModal\";import SavedColorsComponent from\"../ColorPickerComponent/SavedColorComponent/SavedColorsComponent\";import reactcss from'reactcss';import SortDropdown from\"../SortDropdown/SortDropdown\";import{ReadData}from\"../PageLoad\";import{reloadGoals}from\"../ReloadEvents\";import'./GoalsPageStyles.css';import{sortArray}from\"../SortDropdown/SortDropdownScripting\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export function GoalsPage(){ReadData();var _useParams=useParams(),id=_useParams.id;var project=projectsList[id];var goalArray=sortArray(project.goals.slice(),false);console.log(goalArray);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),createOpen=_useState2[0],changeCreateOpen=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),editOpen=_useState4[0],changeEditOpen=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),deleteOpen=_useState6[0],changeDeleteOpen=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),selectedGoal=_useState8[0],changeSelectedGoal=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),reloadState=_useState10[0],reload=_useState10[1];useEffect(function(){document.addEventListener(\"reloadGoals\",reloadEffect);return function(){document.removeEventListener(\"reloadGoals\",reloadEffect);};});var reloadEffect=function reloadEffect(){reload(reloadState+1);};return/*#__PURE__*/_jsxs(\"div\",{className:\"PageContainer\",id:\"goals-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"LeftContainer\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"button\",{id:\"back-button\",children:\"Back\"})}),/*#__PURE__*/_jsx(\"h1\",{children:project.name+\" Goals\"}),/*#__PURE__*/_jsx(\"div\",{className:\"SortDropdownContainer\",children:/*#__PURE__*/_jsx(SortDropdown,{isProject:false,reloadPage:reloadGoals})}),/*#__PURE__*/_jsx(GoalList,{goals:goalArray,openCreate:changeCreateOpen,openDelete:changeDeleteOpen,openEdit:changeEditOpen,changeSelectedGoal:changeSelectedGoal})]}),/*#__PURE__*/_jsx(\"div\",{className:\"RightContainer\",children:/*#__PURE__*/_jsx(SavedColorsComponent,{colors:project.goalColors,isProject:false,projectId:id})}),createOpen&&/*#__PURE__*/_jsx(CreateGoalModal,{projectId:id,colorList:project.goalColors,modalOpen:changeCreateOpen}),editOpen&&/*#__PURE__*/_jsx(EditGoalModal,{projectId:id,goal:project.goals[selectedGoal],colorList:project.goalColors,modalOpen:changeEditOpen}),deleteOpen&&/*#__PURE__*/_jsx(DeleteGoalModal,{projectId:id,goal:project.goals[selectedGoal],modalOpen:changeDeleteOpen})]});}function GoalList(props){var goalListItems=props.goals?props.goals.map(function(goal,id){return/*#__PURE__*/_jsx(\"li\",{className:\"DataListItem\",id:\"goal-list-item\",children:/*#__PURE__*/_jsx(GoalListItem,{id:goal.id,name:goal.name,status:goal.status,color:goal.color,openDelete:props.openDelete,openEdit:props.openEdit,changeSelectedGoal:props.changeSelectedGoal})},id);}):[];return/*#__PURE__*/_jsxs(\"ul\",{className:\"DataList\",id:\"goal-list\",children:[goalListItems,/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"AddData\",id:\"add-goal\",onClick:function onClick(){return props.openCreate(true);},children:\"+ Add Goal\"})})]});}function GoalListItem(props){var style=reactcss({'default':{goalColor:{background:props.color.color}}});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"button\",{className:\"GoalButton\",onClick:function onClick(){props.changeSelectedGoal(props.id);props.openEdit(true);},children:[props.name+\" : \"+props.status,props.color.id!==0&&/*#__PURE__*/_jsx(\"div\",{className:\"DataItemColor\",id:\"goal-color\",style:style.goalColor})]}),/*#__PURE__*/_jsx(\"button\",{className:\"DataOption\",onClick:function onClick(){props.changeSelectedGoal(props.id);props.openDelete(true);},children:\"X\"})]});}","map":{"version":3,"names":["useEffect","useState","useParams","Link","projectsList","CreateGoalModal","EditGoalModal","DeleteGoalModal","SavedColorsComponent","reactcss","SortDropdown","ReadData","reloadGoals","sortArray","GoalsPage","id","project","goalArray","goals","slice","console","log","createOpen","changeCreateOpen","editOpen","changeEditOpen","deleteOpen","changeDeleteOpen","selectedGoal","changeSelectedGoal","reloadState","reload","document","addEventListener","reloadEffect","removeEventListener","name","goalColors","GoalList","props","goalListItems","map","goal","status","color","openDelete","openEdit","openCreate","GoalListItem","style","goalColor","background"],"sources":["C:/Users/AMStudent/Desktop/ProjectTrackerRedux/project-tracker-redux/src/GoalsPage/GoalsPageComponent.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useParams, Link } from \"react-router-dom\"\r\nimport { projectsList } from \"../ProjectsPage/ProjectClass\";\r\nimport CreateGoalModal from \"./Modals/CreateGoalModal/CreateGoalModal\";\r\nimport EditGoalModal from \"./Modals/EditGoalModal/EditGoalModal\";\r\nimport DeleteGoalModal from \"./Modals/DeleteGoalModal/DeleteGoalModal\";\r\nimport SavedColorsComponent from \"../ColorPickerComponent/SavedColorComponent/SavedColorsComponent\";\r\nimport reactcss from 'reactcss';\r\nimport SortDropdown from \"../SortDropdown/SortDropdown\";\r\nimport { ReadData } from \"../PageLoad\";\r\nimport { reloadGoals } from \"../ReloadEvents\";\r\n\r\nimport './GoalsPageStyles.css';\r\nimport { sortArray } from \"../SortDropdown/SortDropdownScripting\";\r\n\r\nexport function GoalsPage(){\r\n\r\n    ReadData();\r\n\r\n    let {id} = useParams();\r\n\r\n    const project = projectsList[id];\r\n\r\n    var goalArray = sortArray(project.goals.slice(), false);\r\n    console.log(goalArray);\r\n\r\n    const [createOpen, changeCreateOpen] = useState(false);\r\n    const [editOpen, changeEditOpen] = useState(false);\r\n    const [deleteOpen, changeDeleteOpen] = useState(false);\r\n    const [selectedGoal, changeSelectedGoal] = useState();\r\n    const [reloadState, reload] = useState(0);\r\n\r\n    useEffect(() => {\r\n        document.addEventListener(\"reloadGoals\", reloadEffect);\r\n\r\n        return () => {\r\n            document.removeEventListener(\"reloadGoals\", reloadEffect);\r\n        }\r\n    });\r\n\r\n    var reloadEffect = () => {\r\n        reload(reloadState + 1);\r\n    }\r\n\r\n    return(\r\n        <div className=\"PageContainer\" id=\"goals-page\">\r\n            <div className=\"LeftContainer\">\r\n            <Link to={\"/\"}>\r\n                <button id=\"back-button\">Back</button>\r\n            </Link>\r\n                <h1>{project.name + \" Goals\"}</h1>\r\n                <div className=\"SortDropdownContainer\">\r\n                    <SortDropdown isProject={false} reloadPage={reloadGoals} />\r\n                </div>\r\n                <GoalList goals={goalArray} openCreate={changeCreateOpen} openDelete={changeDeleteOpen} openEdit={changeEditOpen} changeSelectedGoal={changeSelectedGoal}/>\r\n            </div>\r\n\r\n            <div className=\"RightContainer\">\r\n                <SavedColorsComponent colors={project.goalColors} isProject={false} projectId={id}/>\r\n            </div>\r\n            {createOpen && <CreateGoalModal projectId={id} colorList={project.goalColors} modalOpen={changeCreateOpen}/>}\r\n            {editOpen && <EditGoalModal projectId={id} goal={project.goals[selectedGoal]} colorList={project.goalColors} modalOpen={changeEditOpen} />}\r\n            {deleteOpen && <DeleteGoalModal projectId={id} goal={project.goals[selectedGoal]} modalOpen={changeDeleteOpen}/>}\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction GoalList(props) {\r\n    var goalListItems = props.goals ? props.goals.map((goal, id) => {\r\n        return(\r\n            <li key={id} className=\"DataListItem\" id=\"goal-list-item\">\r\n                <GoalListItem id={goal.id} name={goal.name} status={goal.status} color={goal.color} openDelete={props.openDelete} openEdit={props.openEdit} changeSelectedGoal={props.changeSelectedGoal}/>\r\n            </li>\r\n        );\r\n    }) : [];\r\n\r\n    return(\r\n        <ul className=\"DataList\" id=\"goal-list\">\r\n            {goalListItems}\r\n            <li>\r\n                <button className=\"AddData\" id=\"add-goal\" onClick={() => props.openCreate(true)}>+ Add Goal</button>\r\n            </li>\r\n        </ul>\r\n    );\r\n}\r\n\r\nfunction GoalListItem(props) {\r\n    const style = reactcss({\r\n        'default': {\r\n            goalColor: {\r\n                background: props.color.color\r\n            }\r\n        }\r\n    })\r\n\r\n    return(\r\n        <>\r\n            <button className=\"GoalButton\" onClick={() => {props.changeSelectedGoal(props.id); props.openEdit(true);}}>\r\n                {props.name + \" : \" + props.status}\r\n                {(props.color.id !== 0) && <div className=\"DataItemColor\" id=\"goal-color\" style={style.goalColor}/>}\r\n            </button>\r\n            <button className=\"DataOption\" onClick={() => {props.changeSelectedGoal(props.id); props.openDelete(true);}}>X</button>\r\n        </>\r\n    );\r\n}"],"mappings":"0JAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,SAAS,CAAEC,IAAI,KAAQ,kBAAkB,CAClD,OAASC,YAAY,KAAQ,8BAA8B,CAC3D,MAAOC,gBAAe,KAAM,0CAA0C,CACtE,MAAOC,cAAa,KAAM,sCAAsC,CAChE,MAAOC,gBAAe,KAAM,0CAA0C,CACtE,MAAOC,qBAAoB,KAAM,kEAAkE,CACnG,MAAOC,SAAQ,KAAM,UAAU,CAC/B,MAAOC,aAAY,KAAM,8BAA8B,CACvD,OAASC,QAAQ,KAAQ,aAAa,CACtC,OAASC,WAAW,KAAQ,iBAAiB,CAE7C,MAAO,uBAAuB,CAC9B,OAASC,SAAS,KAAQ,uCAAuC,CAAC,6IAElE,MAAO,SAASC,UAAS,EAAE,CAEvBH,QAAQ,EAAE,CAEV,eAAWT,SAAS,EAAE,CAAjBa,EAAE,YAAFA,EAAE,CAEP,GAAMC,QAAO,CAAGZ,YAAY,CAACW,EAAE,CAAC,CAEhC,GAAIE,UAAS,CAAGJ,SAAS,CAACG,OAAO,CAACE,KAAK,CAACC,KAAK,EAAE,CAAE,KAAK,CAAC,CACvDC,OAAO,CAACC,GAAG,CAACJ,SAAS,CAAC,CAEtB,cAAuChB,QAAQ,CAAC,KAAK,CAAC,wCAA/CqB,UAAU,eAAEC,gBAAgB,eACnC,eAAmCtB,QAAQ,CAAC,KAAK,CAAC,yCAA3CuB,QAAQ,eAAEC,cAAc,eAC/B,eAAuCxB,QAAQ,CAAC,KAAK,CAAC,yCAA/CyB,UAAU,eAAEC,gBAAgB,eACnC,eAA2C1B,QAAQ,EAAE,yCAA9C2B,YAAY,eAAEC,kBAAkB,eACvC,eAA8B5B,QAAQ,CAAC,CAAC,CAAC,0CAAlC6B,WAAW,gBAAEC,MAAM,gBAE1B/B,SAAS,CAAC,UAAM,CACZgC,QAAQ,CAACC,gBAAgB,CAAC,aAAa,CAAEC,YAAY,CAAC,CAEtD,MAAO,WAAM,CACTF,QAAQ,CAACG,mBAAmB,CAAC,aAAa,CAAED,YAAY,CAAC,CAC7D,CAAC,CACL,CAAC,CAAC,CAEF,GAAIA,aAAY,CAAG,QAAfA,aAAY,EAAS,CACrBH,MAAM,CAACD,WAAW,CAAG,CAAC,CAAC,CAC3B,CAAC,CAED,mBACI,aAAK,SAAS,CAAC,eAAe,CAAC,EAAE,CAAC,YAAY,wBAC1C,aAAK,SAAS,CAAC,eAAe,wBAC9B,KAAC,IAAI,EAAC,EAAE,CAAE,GAAI,uBACV,eAAQ,EAAE,CAAC,aAAa,UAAC,MAAI,EAAS,EACnC,cACH,oBAAKd,OAAO,CAACoB,IAAI,CAAG,QAAQ,EAAM,cAClC,YAAK,SAAS,CAAC,uBAAuB,uBAClC,KAAC,YAAY,EAAC,SAAS,CAAE,KAAM,CAAC,UAAU,CAAExB,WAAY,EAAG,EACzD,cACN,KAAC,QAAQ,EAAC,KAAK,CAAEK,SAAU,CAAC,UAAU,CAAEM,gBAAiB,CAAC,UAAU,CAAEI,gBAAiB,CAAC,QAAQ,CAAEF,cAAe,CAAC,kBAAkB,CAAEI,kBAAmB,EAAE,GACzJ,cAEN,YAAK,SAAS,CAAC,gBAAgB,uBAC3B,KAAC,oBAAoB,EAAC,MAAM,CAAEb,OAAO,CAACqB,UAAW,CAAC,SAAS,CAAE,KAAM,CAAC,SAAS,CAAEtB,EAAG,EAAE,EAClF,CACLO,UAAU,eAAI,KAAC,eAAe,EAAC,SAAS,CAAEP,EAAG,CAAC,SAAS,CAAEC,OAAO,CAACqB,UAAW,CAAC,SAAS,CAAEd,gBAAiB,EAAE,CAC3GC,QAAQ,eAAI,KAAC,aAAa,EAAC,SAAS,CAAET,EAAG,CAAC,IAAI,CAAEC,OAAO,CAACE,KAAK,CAACU,YAAY,CAAE,CAAC,SAAS,CAAEZ,OAAO,CAACqB,UAAW,CAAC,SAAS,CAAEZ,cAAe,EAAG,CACzIC,UAAU,eAAI,KAAC,eAAe,EAAC,SAAS,CAAEX,EAAG,CAAC,IAAI,CAAEC,OAAO,CAACE,KAAK,CAACU,YAAY,CAAE,CAAC,SAAS,CAAED,gBAAiB,EAAE,GAC9G,CAEd,CAEA,QAASW,SAAQ,CAACC,KAAK,CAAE,CACrB,GAAIC,cAAa,CAAGD,KAAK,CAACrB,KAAK,CAAGqB,KAAK,CAACrB,KAAK,CAACuB,GAAG,CAAC,SAACC,IAAI,CAAE3B,EAAE,CAAK,CAC5D,mBACI,WAAa,SAAS,CAAC,cAAc,CAAC,EAAE,CAAC,gBAAgB,uBACrD,KAAC,YAAY,EAAC,EAAE,CAAE2B,IAAI,CAAC3B,EAAG,CAAC,IAAI,CAAE2B,IAAI,CAACN,IAAK,CAAC,MAAM,CAAEM,IAAI,CAACC,MAAO,CAAC,KAAK,CAAED,IAAI,CAACE,KAAM,CAAC,UAAU,CAAEL,KAAK,CAACM,UAAW,CAAC,QAAQ,CAAEN,KAAK,CAACO,QAAS,CAAC,kBAAkB,CAAEP,KAAK,CAACV,kBAAmB,EAAE,EADtLd,EAAE,CAEN,CAEb,CAAC,CAAC,CAAG,EAAE,CAEP,mBACI,YAAI,SAAS,CAAC,UAAU,CAAC,EAAE,CAAC,WAAW,WAClCyB,aAAa,cACd,iCACI,eAAQ,SAAS,CAAC,SAAS,CAAC,EAAE,CAAC,UAAU,CAAC,OAAO,CAAE,yBAAMD,MAAK,CAACQ,UAAU,CAAC,IAAI,CAAC,EAAC,UAAC,YAAU,EAAS,EACnG,GACJ,CAEb,CAEA,QAASC,aAAY,CAACT,KAAK,CAAE,CACzB,GAAMU,MAAK,CAAGxC,QAAQ,CAAC,CACnB,SAAS,CAAE,CACPyC,SAAS,CAAE,CACPC,UAAU,CAAEZ,KAAK,CAACK,KAAK,CAACA,KAC5B,CACJ,CACJ,CAAC,CAAC,CAEF,mBACI,wCACI,gBAAQ,SAAS,CAAC,YAAY,CAAC,OAAO,CAAE,kBAAM,CAACL,KAAK,CAACV,kBAAkB,CAACU,KAAK,CAACxB,EAAE,CAAC,CAAEwB,KAAK,CAACO,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAE,WACrGP,KAAK,CAACH,IAAI,CAAG,KAAK,CAAGG,KAAK,CAACI,MAAM,CAChCJ,KAAK,CAACK,KAAK,CAAC7B,EAAE,GAAK,CAAC,eAAK,YAAK,SAAS,CAAC,eAAe,CAAC,EAAE,CAAC,YAAY,CAAC,KAAK,CAAEkC,KAAK,CAACC,SAAU,EAAE,GAC9F,cACT,eAAQ,SAAS,CAAC,YAAY,CAAC,OAAO,CAAE,kBAAM,CAACX,KAAK,CAACV,kBAAkB,CAACU,KAAK,CAACxB,EAAE,CAAC,CAAEwB,KAAK,CAACM,UAAU,CAAC,IAAI,CAAC,CAAC,CAAE,UAAC,GAAC,EAAS,GACxH,CAEX"},"metadata":{},"sourceType":"module","externalDependencies":[]}